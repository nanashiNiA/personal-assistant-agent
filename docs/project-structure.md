# プロジェクト構造

このドキュメントはパーソナルアシスタントエージェントプロジェクトの構造を説明します。

## ディレクトリ構成

```
personal-assistant-agent/
├── .cursor/              # Cursor IDE設定
│   └── rules/            # コーディングルール
├── .env.development      # 開発環境変数
├── .env.example          # 環境変数例
├── .gitignore            # Git除外設定
├── package.json          # プロジェクト設定
├── tsconfig.json         # TypeScript設定
├── README.md             # プロジェクト概要
├── src/                  # ソースコード
│   ├── mastra/           # Mastraフレームワーク関連
│   │   ├── agents/       # エージェント定義
│   │   ├── memory/       # 記憶システム
│   │   ├── tools/        # ツール定義
│   │   ├── workflows/    # ワークフロー定義
│   │   ├── prompts/      # プロンプトテンプレート
│   │   ├── types/        # 型定義
│   │   ├── utils/        # ユーティリティ関数
│   │   └── index.ts      # エントリーポイント
│   └── index.ts          # アプリケーションエントリーポイント
├── tests/                # テストファイル
└── docs/                 # ドキュメント
    ├── project-structure.md  # プロジェクト構造説明
    ├── memory-system.md      # 記憶システムの詳細説明
    ├── tools-integration.md  # ツール統合の詳細説明
    └── customization.md      # カスタマイズガイド
```

## 主要コンポーネント

### 1. Mastraフレームワーク

プロジェクトの中核となるフレームワークです。以下のモジュールで構成されています：

#### 1.1 エージェント（agents/）

AIエージェントの定義と設定を管理します。以下の主要コンポーネントが含まれます：
- エージェント作成関数
- エージェント設定インターフェース
- エージェントの振る舞いを制御するプロパティ

#### 1.2 記憶システム（memory/）

エージェントが情報を記憶・検索するためのシステムです：
- 短期記憶と長期記憶の管理
- ベクトルデータベースとの連携
- 記憶の優先順位付けと検索ロジック

#### 1.3 ツール（tools/）

エージェントが外部システムと連携するためのツールを定義します：
- APIとの連携ツール
- データ処理ツール
- 認証・認可ツール

#### 1.4 ワークフロー（workflows/）

複雑なタスクをステップに分割するワークフロー定義：
- マルチステップワークフロー
- 条件付き実行
- エラーハンドリング

#### 1.5 プロンプト（prompts/）

AIモデルに送信するプロンプトのテンプレート：
- 構造化プロンプト
- 変数置換機能
- コンテキスト注入ロジック

#### 1.6 型定義（types/）

プロジェクト全体で使用される型定義：
- 各モジュールのインターフェース
- 共通型定義
- ユーティリティ型

#### 1.7 ユーティリティ（utils/）

共通ユーティリティ関数：
- ロギング機能
- 文字列処理
- データ変換

### 2. アプリケーションエントリーポイント

`src/index.ts`はアプリケーションの起動ポイントです：
- Mastraフレームワークの初期化
- 設定の読み込み
- エラーハンドリング

## 開発ガイドライン

プロジェクトの開発には以下のガイドラインに従ってください：

1. **モジュール化**: 機能ごとに適切にモジュール化し、関心の分離を維持する
2. **型安全性**: TypeScriptの型システムを活用して型安全なコードを記述する
3. **テスト**: 新しい機能には対応するテストを追加する
4. **ドキュメント**: コードにはJSDocコメントを追加し、複雑な機能は専用ドキュメントを作成する
5. **バージョン管理**: 変更はセマンティックバージョニングに従って管理する

## 設定

プロジェクトの設定は主に以下のファイルで管理されます：

- **package.json**: プロジェクト依存関係と実行スクリプト
- **tsconfig.json**: TypeScriptコンパイラ設定
- **.env.development**: 開発環境用の環境変数
- **.env.example**: 環境変数のサンプル（実際の値は含めない）